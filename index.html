<!doctype html>
<html lang="en">
    <head>
        <title>Log-in</title>
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />

        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
    </head>

    <body>
        <header>
            <h1 style="text-align: center;">Login Page</h1>
            <h3 style="text-align: center;">Fill the form</h3>
        </header>
        <main>

            <form action="home.html" class="px-lg-5 " style="margin-left: 470px; margin-top:auto 100px;">
                
            <div class="col-md-4">
                <label for="first-name" class="form-label">First name</label>
                <input type="text" class="form-control" id="first-name" placeholder="Binod" required oninput="check_firstname()"/>
            </div>

            
            <div class="col-md-4">
                <label for="middle-name" class="form-label">middle name</label>
                <input type="text" class="form-control" id="middle-name" placeholder="Caran" required oninput="check_middlename()" />
            </div>

            
            <div class="col-md-4">
                <label for="last-name" class="form-label">last name</label>
                <input type="text" class="form-control" id="last-name" placeholder="A K" required oninput="check_lastname()"/>
            </div>

            
            <div class="col-md-4">
                <label for="email" class="form-label">Email</label>
                <input type="text" class="form-control" id="email" placeholder="someUser@gmail.com" oninput="checkEmail()" required />
            </div>

            <div class="col-md-4">
                <label for="dob" class="form-label">date of birth</label>
                <input type="date" class="form-control" id="dob" value="" required oninput="checkAge()"/>
            </div>

            <div class="col-md-4">
                <button id="submit" type="submit">Submit</button>
            </div>


        </form>
            
        </main>
        <footer>

        </footer>
        <script
            src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
            crossorigin="anonymous"
        ></script>

        <script>

            function check_firstname()
            {
            const name = document.getElementById("first-name");
            const name_str = name.value;
            const namePattern = /^[a-zA-Z]/;
            const isValid = namePattern.test(name_str);
            console.log(isValid);

            if (isValid) {
                document.getElementById("first-name").style.borderColor = "green";
                name.style.borderColor = "green";
            }
            else {

                name.style.borderColor = "red";
            }

            }

            function check_middlename()
            {
            const name = document.getElementById("middle-name");
            const name_str = name.value;
            const namePattern = /^[a-zA-Z]/;
            const isValid = namePattern.test(name_str);
            console.log(isValid);

            if (isValid) {
                document.getElementById("middle-name").style.borderColor = "green";
                name.style.borderColor = "green";
            }
            else {

                name.style.borderColor = "red";
            }

            }

            function check_lastname()
            {
            const name = document.getElementById("last-name");
            const name_str = name.value;
            const namePattern = /^[a-zA-Z]/;
            const isValid = namePattern.test(name_str);
            console.log(isValid);

            if (isValid) {
                document.getElementById("last-name").style.borderColor = "green";
                name.style.borderColor = "green";
            }
            else {

                name.style.borderColor = "red";
            }

            }
            
        function checkEmail() {
            const email = document.getElementById("email");
            const email_str = email.value;
            const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            const isValid = emailPattern.test(email_str);
            console.log(isValid);

            if (isValid) {
                email.style.borderColor = "green";
            }
            else {

                email.style.borderColor = "red";
            }
        }

        function checkAge() {
            const dobEle = document.getElementById("dob");
            const dob = dobEle.value;
            const year = new Date();
            const arr = dob.split("-");
            const button = document.getElementById("submit");

            console.log(typeof (Number(arr[0])) + " " + typeof (year));

            console.log(arr[0]);
            console.log(year);
            const age = year.getFullYear() - Number(arr[0]);

            console.log(year.getFullYear())
            console.log(age + " = " + year.getFullYear() + " - " + arr[0]);
            if (age >= 10) {
                dobEle.style.borderColor = "green";
                button.disabled = false;
                button.style.background = "#2E86AB";
            }
            else {
                dobEle.style.borderColor = "red";
                button.disabled = true;
                button.style.background = "grey";
            }
        }
        </script>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
            integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
            crossorigin="anonymous"
        ></script>
    </body>
</html>
